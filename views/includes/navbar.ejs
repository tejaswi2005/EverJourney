<!-- <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
  <div class="container">
    <a class="navbar-brand fw-bold text-primary" href="/">EverJourney</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item"><a class="nav-link" href="/hotels">Hotels</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Flights</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Packages</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Deals</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Destinations</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Support</a></li>
      </ul>

      <% if (!currentUser) { %>
        <a href="/auth" class="btn btn-primary">Login</a>
      <% } else { %>
        <div class="dropdown">
          <button class="btn btn-outline-primary dropdown-toggle" type="button" id="profileDropdown" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle"></i> <%= currentUser.name %>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
            <% if (currentUser.role === 'user') { %>
              <li><a class="dropdown-item" href="/profile">Profile</a></li>
              <li><a class="dropdown-item" href="/bookings">My Bookings</a></li>
            <% } else if (currentUser.role === 'admin') { %>
              <li><a class="dropdown-item" href="/admin/profile">Admin Profile</a></li>
              <li><a class="dropdown-item" href="/admin/create-hotel">Create Hotel Listing</a></li>
              <li><a class="dropdown-item" href="/admin/create-travel">Create Travel Listing</a></li>
            <% } %>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="/logout">Logout</a></li>
          </ul>
        </div>
      <% } %>

    </div>
  </div>
</nav> -->


<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm"> 
  <div class="container">
    <!-- Logo -->
    <a class="navbar-brand fw-bold text-primary" href="/home">EverJourney</a>

    <!-- Mobile Toggle -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Nav Items -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item"><a class="nav-link" href="/hotels">Hotels</a></li>
        <li class="nav-item"><a class="nav-link" href="/flights">Flights</a></li>
        <li class="nav-item"><a class="nav-link" href="/packages">Packages</a></li>
        <li class="nav-item"><a class="nav-link" href="/deals">Deals</a></li>
        <li class="nav-item"><a class="nav-link" href="/destinations">Destinations</a></li>
        <li class="nav-item"><a class="nav-link" href="/support">Support</a></li>

        <% if (currentUser && currentUser.role === 'admin') { %>
          <!-- Extra menu for Admins -->
          <li class="nav-item"><a class="nav-link text-danger fw-semibold" href="/admin/dashboard">Admin Dashboard</a></li>
        <% } %>
      </ul>

      <!-- Auth Buttons -->
      <% if (!currentUser) { %>
        <a href="/auth" class="btn btn-primary">Login / Signup</a>
      <% } else { %>
        <div class="dropdown">
          <button class="btn btn-outline-primary dropdown-toggle" type="button" id="profileDropdown" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle"></i> <%= currentUser.name %>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
            
            <% if (currentUser.role === 'user') { %>
              <li><a class="dropdown-item" href="/profile">My Profile</a></li>
              <li><a class="dropdown-item" href="/bookings">My Bookings</a></li>
              <li><a class="dropdown-item" href="/reviews">My Reviews</a></li>
              <li><a class="dropdown-item" href="/wishlist">Wishlist</a></li>
            
            <% } else if (currentUser.role === 'admin') { %>
              <li><a class="dropdown-item" href="/admin/profile">Admin Profile</a></li>
              <li><a class="dropdown-item" href="/admin/create-hotel">Add Hotel Listing</a></li>
              <li><a class="dropdown-item" href="/admin/create-travel">Add Travel Listing</a></li>
              <li><a class="dropdown-item" href="/admin/manage-users">Manage Users</a></li>
              <li><a class="dropdown-item" href="/admin/reports">Reports & Analytics</a></li>
            <% } %>

            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger fw-bold" href="/logout"><i class="bi bi-box-arrow-right"></i> Logout</a></li>
          </ul>
        </div>
      <% } %>

    </div>
  </div>
</nav>
